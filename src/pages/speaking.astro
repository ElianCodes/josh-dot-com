---
import { getCollection } from "astro:content";

import Hero from "../components/Hero.astro";
import { SpeakingEntryList } from "../components/SpeakingEntryList";
import { Squiggly } from "../components/Squiggly";
import HeroSecondary from "../components/HeroSecondary.astro";
import HeroTertiary from "../components/HeroTertiary.astro";
import BaseLayout from "../layouts/BaseLayout.astro";
import BodyContents from "../components/BodyContents.astro";
import { Anchor } from "../components/Anchor";

const allSpeakings = await getCollection("speaking");
---

<BaseLayout title="Speaking">
	<Hero
		class="hero"
		image={{
			dark: "/images/speaking-dark.webp",
			light: "/images/speaking-light.webp",
		}}
	>
		<Squiggly
			as="h1"
			class="h1"
			fontSize="title"
			fontWeight="bolder"
		>
			Speaking
		</Squiggly>
		<HeroSecondary>
			I talk about static analysis, accessibility, and team culture.
		</HeroSecondary>
		<HeroTertiary>
			Want me to speak at your event? Hooray!
			<br />
			Please see my <Anchor
				href="https://github.com/JoshuaKGoldberg/speaker-rider"
				>speaker rider</Anchor>.
		</HeroTertiary>
	</Hero>

	<BodyContents>
		<SpeakingEntryList speakings={allSpeakings.sort((a, b) => +b.data.date - +a.data.date)} />
	</BodyContents>
</BaseLayout>

<style>
	.h1 {
		display: inline-block;
		position: relative;
	}

	.rider {
		display: inline-block;
		position: relative;
		text-decoration: none;
	}

	.rider::after {
		background: url("/icons/squiggle.svg") repeat-x;
		background-size: contain;
		content: "";
		height: 0.2rem;
		position: absolute;
		width: 100%;
		top: calc(100% - 0.25em);
		left: 0;
	}
</style>
